<!-- Webflow Embed Code for Photo Galleries Template -->

<div id="gallery-wrapper" style="width:100%">
  <iframe
    id="lot43-gallery"
    style="width:100%;border:none;height:100vh"
  ></iframe>
</div>

<script>
  var slug = window.location.pathname.split("/").pop();
  var iframe = document.getElementById("lot43-gallery");
  iframe.src =
    "https://dustchambers.github.io/beltline-app-gallery/gallery.html?id=" + slug;

  function sendViewport() {
    try {
      var rect = iframe.getBoundingClientRect();
      iframe.contentWindow.postMessage({
        type: "viewport",
        top: Math.max(0, -rect.top),
        height: window.innerHeight
      }, "*");
    } catch(e) {}
  }

  iframe.addEventListener("load", sendViewport);
  window.addEventListener("scroll", sendViewport, { passive: true });
  window.addEventListener("resize", sendViewport);

  window.addEventListener("message", function(e) {
    if (e.data && e.data.type === "resize") {
      iframe.style.height = e.data.height + "px";
      sendViewport();
    }
  });
</script>
